{
    "sourceFile": "app/ui/search.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 5,
            "patches": [
                {
                    "date": 1727377392920,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1727377989913,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,11 +1,25 @@\n 'use client';\n  \n import { MagnifyingGlassIcon } from '@heroicons/react/24/outline';\n  \n-export default function Search({ placeholder }: { placeholder: string }) {\n+import { usePathname, useRouter, useSearchParams } from 'next/navigation';\n+ \n+export default function Search() {\n+  const searchParams = useSearchParams();\n+\n+  const pathname = usePathname();\n+  const { replace } = useRouter();\n+\n   function handleSearch(term: string) {\n-    console.log(term);\n+    const params = new URLSearchParams(searchParams);\n+\n+    if (term) {\n+      params.set('query', term);\n+    } else {\n+      params.delete('query');\n+    }\n+    replace(`${pathname}?${params.toString()}`);\n   }\n  \n   return (\n     <div className=\"relative flex flex-1 flex-shrink-0\">\n@@ -17,8 +31,9 @@\n         placeholder={placeholder}\n         onChange={(e) => {\n           handleSearch(e.target.value);\n         }}\n+        defaultValue={searchParams.get('query')?.toString()}\n       />\n       <MagnifyingGlassIcon className=\"absolute left-3 top-1/2 h-[18px] w-[18px] -translate-y-1/2 text-gray-500 peer-focus:text-gray-900\" />\n     </div>\n   );\n"
                },
                {
                    "date": 1727378059938,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,27 +1,26 @@\n-'use client';\n- \n-import { MagnifyingGlassIcon } from '@heroicons/react/24/outline';\n- \n-import { usePathname, useRouter, useSearchParams } from 'next/navigation';\n- \n-export default function Search() {\n-  const searchParams = useSearchParams();\n+\"use client\";\n \n+import { MagnifyingGlassIcon } from \"@heroicons/react/24/outline\";\n+\n+import { usePathname, useRouter, useSearchParams } from \"next/navigation\";\n+\n+export default function Search({ placeholder }: { placeholder: string }) {  const searchParams = useSearchParams();\n+\n   const pathname = usePathname();\n   const { replace } = useRouter();\n \n   function handleSearch(term: string) {\n     const params = new URLSearchParams(searchParams);\n \n     if (term) {\n-      params.set('query', term);\n+      params.set(\"query\", term);\n     } else {\n-      params.delete('query');\n+      params.delete(\"query\");\n     }\n     replace(`${pathname}?${params.toString()}`);\n   }\n- \n+\n   return (\n     <div className=\"relative flex flex-1 flex-shrink-0\">\n       <label htmlFor=\"search\" className=\"sr-only\">\n         Search\n@@ -31,10 +30,10 @@\n         placeholder={placeholder}\n         onChange={(e) => {\n           handleSearch(e.target.value);\n         }}\n-        defaultValue={searchParams.get('query')?.toString()}\n+        defaultValue={searchParams.get(\"query\")?.toString()}\n       />\n       <MagnifyingGlassIcon className=\"absolute left-3 top-1/2 h-[18px] w-[18px] -translate-y-1/2 text-gray-500 peer-focus:text-gray-900\" />\n     </div>\n   );\n\\ No newline at end of file\n-}\n+}\n"
                },
                {
                    "date": 1727378396434,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,14 +3,18 @@\n import { MagnifyingGlassIcon } from \"@heroicons/react/24/outline\";\n \n import { usePathname, useRouter, useSearchParams } from \"next/navigation\";\n \n-export default function Search({ placeholder }: { placeholder: string }) {  const searchParams = useSearchParams();\n+export default function Search({ placeholder }: { placeholder: string }) {\n+  const searchParams = useSearchParams();\n \n   const pathname = usePathname();\n   const { replace } = useRouter();\n \n   function handleSearch(term: string) {\n+    \n+  console.log(`Searching... ${term}`);\n+  \n     const params = new URLSearchParams(searchParams);\n \n     if (term) {\n       params.set(\"query\", term);\n@@ -35,5 +39,5 @@\n       />\n       <MagnifyingGlassIcon className=\"absolute left-3 top-1/2 h-[18px] w-[18px] -translate-y-1/2 text-gray-500 peer-focus:text-gray-900\" />\n     </div>\n   );\n-}\n\\ No newline at end of file\n+}\n"
                },
                {
                    "date": 1727378558746,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,8 @@\n \"use client\";\n \n import { MagnifyingGlassIcon } from \"@heroicons/react/24/outline\";\n+import { useDebouncedCallback } from 'use-debounce';\n \n import { usePathname, useRouter, useSearchParams } from \"next/navigation\";\n \n export default function Search({ placeholder }: { placeholder: string }) {\n@@ -9,21 +10,21 @@\n \n   const pathname = usePathname();\n   const { replace } = useRouter();\n \n-  function handleSearch(term: string) {\n+  const handleSearch = useDebouncedCallback((term) => {\n     \n-  console.log(`Searching... ${term}`);\n-  \n+    console.log(`Searching... ${term}`);\n+\n     const params = new URLSearchParams(searchParams);\n \n     if (term) {\n       params.set(\"query\", term);\n     } else {\n       params.delete(\"query\");\n     }\n     replace(`${pathname}?${params.toString()}`);\n-  }\n+  }, 300);\n \n   return (\n     <div className=\"relative flex flex-1 flex-shrink-0\">\n       <label htmlFor=\"search\" className=\"sr-only\">\n"
                },
                {
                    "date": 1727382173075,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,8 @@\n \"use client\";\n \n import { MagnifyingGlassIcon } from \"@heroicons/react/24/outline\";\n import { useDebouncedCallback } from 'use-debounce';\n-\n import { usePathname, useRouter, useSearchParams } from \"next/navigation\";\n \n export default function Search({ placeholder }: { placeholder: string }) {\n   const searchParams = useSearchParams();\n@@ -15,9 +14,9 @@\n     \n     console.log(`Searching... ${term}`);\n \n     const params = new URLSearchParams(searchParams);\n-\n+    params.set('page', '1');\n     if (term) {\n       params.set(\"query\", term);\n     } else {\n       params.delete(\"query\");\n"
                }
            ],
            "date": 1727377392920,
            "name": "Commit-0",
            "content": "'use client';\n \nimport { MagnifyingGlassIcon } from '@heroicons/react/24/outline';\n \nexport default function Search({ placeholder }: { placeholder: string }) {\n  function handleSearch(term: string) {\n    console.log(term);\n  }\n \n  return (\n    <div className=\"relative flex flex-1 flex-shrink-0\">\n      <label htmlFor=\"search\" className=\"sr-only\">\n        Search\n      </label>\n      <input\n        className=\"peer block w-full rounded-md border border-gray-200 py-[9px] pl-10 text-sm outline-2 placeholder:text-gray-500\"\n        placeholder={placeholder}\n        onChange={(e) => {\n          handleSearch(e.target.value);\n        }}\n      />\n      <MagnifyingGlassIcon className=\"absolute left-3 top-1/2 h-[18px] w-[18px] -translate-y-1/2 text-gray-500 peer-focus:text-gray-900\" />\n    </div>\n  );\n}"
        }
    ]
}